# Overview
The Editor is a content creation tool for the CMS Architecture.  The Editor currently creates posts,edits, saves posts and publishes posts as core functionaility.

See Previous Updates [version4-updates.md](version4-updates.md)

# Version 5 Features
A Editor Post is published and is assigned to a catalog.  The Catalog provides an index of all content pointers and post summary to provide a list of posts for selection.

The catalog is managed by the CMS Orch project and indexer serverless applications.

Version 5 updates are to provide a way to manage a catalog's details, which are Title, Catalog Image, and description.  The Editor will need to upload a Catalog image to a place to publish the catalog.

# Modifications
Serverless Indexer will be responsible for new catalog details to be published. 

## Editor Changes
The Editor will need a new UX wrapper around the Editor UX that provides the following new features:
- Add or Update a Catalog Type
- On Publish, Select a Catalog Category for Publishing.
- Category needs to be published before Post can be assigned.
- New or Updated Catalog Items will require the following:
  - Title
  - Description
  - Catalog Header Image
    - Select an Image already uploaded
    - Upload New Image
- Editor will save catalog data in a different key than posts.
- The Editor Catalog Data Structure will be a JSON object with the following fields:
  - `catalog_id`: Unique identifier for the catalog (UUID)
  - `catalog_title`: Title of the catalog
  - `catalog_image_key`: S3 key for the catalog image
  - `catalog_description`: Description of the catalog
  - `published`: Boolean indicating if the catalog is published
  - `created_at`: Timestamp of when the catalog was created
- These unique catalog entries will be stored in a single S3 bucket under a specific prefix, such as `catalogs/`.
- The catalog image media will be stored in the same S3 bucket but under a different prefix, such as `catalog/images/`.

These changes will be implemented in the Editor's UI and backend logic to handle the new catalog management features. The Editor will also need to ensure that the catalog data is stored in a separate key from the posts, allowing for better organization and retrieval of catalog information.

The process of creating a new catalog will involve the following steps:
1. User selects the option to create a new catalog.
2. User inputs the catalog title, description, and selects or uploads a catalog image.
3. The Editor saves the catalog data in the stage storage location, separate from post data by using a different prefix.
4. The catalog data is then published to the CMS, making it available for selection when publishing posts.

## Catalog Publishing Event
The Event will be as follows, sent to the Event Bridge configured in Editor:
```json
{
  "version": "0", //Generated by Event Bridge API
  "id": "55043351-f8f2-8b44-1bd9-2d18186dc755",//Generated by Event Bridge API
  "detail-type": "site-updates",// Use this for all Messages
  "source": "catalog.published", //This is provided via Configuration since Source is used to route events in the Event Bridge API
  "account": "829043575575",//Generated by Event Bridge API
  "time": "2025-02-19T02:22:41Z",//Generated by Event Bridge API
  "region": "us-east-1",//Generated by Event Bridge API
  "resources": [],
  "detail": {
    "catalog_id": "1828dndn-12b0-4129-940d-77ee4008339c", // ID of the catalog being released. This is the same UUID used in saving a post
    "catalog_title": "Catalog Title",  // Catalog title 
    "catalog_image_key": "catalog/images/image.png", // S3 Key to the catalog image
    "catalog_description": "A Catalog about news of some kind.", // Catalog description
    "source": "site.updates"
  }
}

```
